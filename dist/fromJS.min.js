/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.fromJS={})}(this,function(t){"use strict";function r(t,r){r&&(t.prototype=Object.create(r.prototype)),t.prototype.constructor=t}function e(t){return void 0===t.size&&(t.size=t.__iterate(o)),t.size}function n(t,r){if("number"!=typeof r){var n=+r;if(""+n!==r)return NaN;r=n}return 0>r?e(t)+r:r}function o(){return!0}function i(t){return f(t)?t:w(t)}function u(t){return s(t)?t:m(t)}function c(t){return h(t)?t:q(t)}function a(t){return f(t)&&!_(t)?t:A(t)}function f(t){return!(!t||!t[J])}function s(t){return!(!t||!t[Y])}function h(t){return!(!t||!t[P])}function _(t){return s(t)||h(t)}function p(t){return!(!t||!t[Q])}function y(t){this.next=t}function v(t,r,e,n){var o=0===t?r:1===t?e:[r,e];return n?n.value=o:n={value:o,done:!1},n}function d(){return{value:void 0,done:!0}}function l(t){return!!E(t)}function S(t){return t&&"function"==typeof t.next}function b(t){var r=E(t);return r&&r.call(t)}function E(t){var r=t&&(G&&t[G]||t[H]);return"function"==typeof r?r:void 0}function g(t){return t&&"number"==typeof t.length}function w(t){return null===t||void 0===t?T():f(t)?t.toSeq():z(t)}function m(t){return null===t||void 0===t?T().toKeyedSeq():f(t)?s(t)?t.toSeq():t.fromEntrySeq():R(t)}function q(t){return null===t||void 0===t?T():f(t)?s(t)?t.entrySeq():t.toIndexedSeq():k(t)}function A(t){return(null===t||void 0===t?T():f(t)?s(t)?t.entrySeq():t:k(t)).toSetSeq()}function x(t){this._array=t,this.size=t.length}function j(t){var r=Object.keys(t);this._object=t,this._keys=r,this.size=r.length}function I(t){this._iterable=t,this.size=t.length||t.size}function U(t){this._iterator=t,this._iteratorCache=[]}function M(t){return!(!t||!t[Z])}function T(){return $||($=new x([]))}function R(t){var r=Array.isArray(t)?new x(t).fromEntrySeq():S(t)?new U(t).fromEntrySeq():l(t)?new I(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);
return r}function k(t){var r=L(t);if(!r)throw new TypeError("Expected Array or iterable object of values: "+t);return r}function z(t){var r=L(t)||"object"==typeof t&&new j(t);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return r}function L(t){return g(t)?new x(t):S(t)?new U(t):l(t)?new I(t):void 0}function K(t,r,e,n){var o=t._cache;if(o){for(var i=o.length-1,u=0;i>=u;u++){var c=o[e?i-u:u];if(r(c[1],n?c[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(r,e)}function B(t,r,e,n){var o=t._cache;if(o){var i=o.length-1,u=0;return new y(function(){var t=o[e?i-u:u];return u++>i?d():v(r,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(r,e)}function O(t,r){return r?D(r,t,"",{"":t}):N(t)}function D(t,r,e,n){return Array.isArray(r)?t.call(n,e,q(r).map(function(e,n){return D(t,e,n,r)})):C(r)?t.call(n,e,m(r).map(function(e,n){return D(t,e,n,r)})):r}function N(t){return Array.isArray(t)?q(t).map(N).toList():C(t)?m(t).map(N).toMap():t}function C(t){return t&&(t.constructor===Object||void 0===t.constructor)}r(u,i),r(c,i),r(a,i),i.isIterable=f,i.isKeyed=s,i.isIndexed=h,i.isAssociative=_,i.isOrdered=p,i.Keyed=u,i.Indexed=c,i.Set=a;var J="@@__IMMUTABLE_ITERABLE__@@",Y="@@__IMMUTABLE_KEYED__@@",P="@@__IMMUTABLE_INDEXED__@@",Q="@@__IMMUTABLE_ORDERED__@@",V=0,X=1,F=2,G="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",W=G||H;y.prototype.toString=function(){return"[Iterator]"},y.KEYS=V,y.VALUES=X,y.ENTRIES=F,y.prototype.inspect=y.prototype.toSource=function(){return""+this},y.prototype[W]=function(){return this},r(w,i),w.of=function(){return w(arguments)},w.prototype.toSeq=function(){return this},w.prototype.toString=function(){return this.__toString("Seq {","}")},w.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},w.prototype.__iterate=function(t,r){return K(this,t,r,!0)},w.prototype.__iterator=function(t,r){return B(this,t,r,!0)},r(m,w),m.prototype.toKeyedSeq=function(){return this;
},r(q,w),q.of=function(){return q(arguments)},q.prototype.toIndexedSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq [","]")},q.prototype.__iterate=function(t,r){return K(this,t,r,!1)},q.prototype.__iterator=function(t,r){return B(this,t,r,!1)},r(A,w),A.of=function(){return A(arguments)},A.prototype.toSetSeq=function(){return this},w.isSeq=M,w.Keyed=m,w.Set=A,w.Indexed=q;var Z="@@__IMMUTABLE_SEQ__@@";w.prototype[Z]=!0,r(x,q),x.prototype.get=function(t,r){return this.has(t)?this._array[n(this,t)]:r},x.prototype.__iterate=function(t,r){for(var e=this._array,n=e.length-1,o=0;n>=o;o++)if(t(e[r?n-o:o],o,this)===!1)return o+1;return o},x.prototype.__iterator=function(t,r){var e=this._array,n=e.length-1,o=0;return new y(function(){return o>n?d():v(t,o,e[r?n-o++:o++])})},r(j,m),j.prototype.get=function(t,r){return void 0===r||this.has(t)?this._object[t]:r},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,r){for(var e=this._object,n=this._keys,o=n.length-1,i=0;o>=i;i++){var u=n[r?o-i:i];if(t(e[u],u,this)===!1)return i+1}return i},j.prototype.__iterator=function(t,r){var e=this._object,n=this._keys,o=n.length-1,i=0;return new y(function(){var u=n[r?o-i:i];return i++>o?d():v(t,u,e[u])})},j.prototype[Q]=!0,r(I,q),I.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);var e=this._iterable,n=b(e),o=0;if(S(n))for(var i;!(i=n.next()).done&&t(i.value,o++,this)!==!1;);return o},I.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var e=this._iterable,n=b(e);if(!S(n))return new y(d);var o=0;return new y(function(){var r=n.next();return r.done?r:v(t,o++,r.value)})},r(U,q),U.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);for(var e=this._iterator,n=this._iteratorCache,o=0;n.length>o;)if(t(n[o],o++,this)===!1)return o;for(var i;!(i=e.next()).done;){var u=i.value;if(n[o]=u,t(u,o++,this)===!1)break}return o},U.prototype.__iteratorUncached=function(t,r){
if(r)return this.cacheResult().__iterator(t,r);var e=this._iterator,n=this._iteratorCache,o=0;return new y(function(){if(o>=n.length){var r=e.next();if(r.done)return r;n[o]=r.value}return v(t,o,n[o++])})};var $;t.fromJS=O});