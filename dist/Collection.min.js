/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Collection={})}(this,function(t){"use strict";function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return void 0===t.size&&(t.size=t.__iterate(o)),t.size}function n(t,e){if("number"!=typeof e){var n=+e;if(""+n!==e)return NaN;e=n}return 0>e?r(t)+e:e}function o(){return!0}function i(t){this.next=t}function u(t,e,r,n){var o=0===t?e:1===t?r:[e,r];return n?n.value=o:n={value:o,done:!1},n}function c(){return{value:void 0,done:!0}}function f(t){return!!h(t)}function a(t){return t&&"function"==typeof t.next}function s(t){var e=h(t);return e&&e.call(t)}function h(t){var e=t&&(V&&t[V]||t[X]);return"function"==typeof e?e:void 0}function _(t){return t&&"number"==typeof t.length}function p(t){return v(t)?t:w(t)}function y(t){return S(t)?t:q(t)}function d(t){return E(t)?t:x(t)}function l(t){return v(t)&&!b(t)?t:I(t)}function v(t){return!(!t||!t[G])}function S(t){return!(!t||!t[H])}function E(t){return!(!t||!t[J])}function b(t){return S(t)||E(t)}function g(t){return!(!t||!t[W])}function w(t){return null===t||void 0===t?M():v(t)?t.toSeq():k(t)}function q(t){return null===t||void 0===t?M().toKeyedSeq():v(t)?S(t)?t.toSeq():t.fromEntrySeq():K(t)}function x(t){return null===t||void 0===t?M():v(t)?S(t)?t.entrySeq():t.toIndexedSeq():R(t)}function I(t){return(null===t||void 0===t?M():v(t)?S(t)?t.entrySeq():t:R(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function A(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function m(t){this._iterable=t,this.size=t.length||t.size}function U(t){this._iterator=t,this._iteratorCache=[]}function T(t){return!(!t||!t[Z])}function M(){return $||($=new j([]))}function K(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():a(t)?new U(t).fromEntrySeq():f(t)?new m(t).fromEntrySeq():"object"==typeof t?new A(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);
return e}function R(t){var e=z(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function k(t){var e=z(t)||"object"==typeof t&&new A(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function z(t){return _(t)?new j(t):a(t)?new U(t):f(t)?new m(t):void 0}function C(t,e,r,n){var o=t._cache;if(o){for(var i=o.length-1,u=0;i>=u;u++){var c=o[r?i-u:u];if(e(c[1],n?c[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function L(t,e,r,n){var o=t._cache;if(o){var f=o.length-1,a=0;return new i(function(){var t=o[r?f-a:a];return a++>f?c():u(e,n?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,r)}function B(){throw TypeError("Abstract")}function D(){}function O(){}function N(){}var Y=0,P=1,Q=2,V="function"==typeof Symbol&&Symbol.iterator,X="@@iterator",F=V||X;i.prototype.toString=function(){return"[Iterator]"},i.KEYS=Y,i.VALUES=P,i.ENTRIES=Q,i.prototype.inspect=i.prototype.toSource=function(){return""+this},i.prototype[F]=function(){return this},e(y,p),e(d,p),e(l,p),p.isIterable=v,p.isKeyed=S,p.isIndexed=E,p.isAssociative=b,p.isOrdered=g,p.Keyed=y,p.Indexed=d,p.Set=l;var G="@@__IMMUTABLE_ITERABLE__@@",H="@@__IMMUTABLE_KEYED__@@",J="@@__IMMUTABLE_INDEXED__@@",W="@@__IMMUTABLE_ORDERED__@@";e(w,p),w.of=function(){return w(arguments)},w.prototype.toSeq=function(){return this},w.prototype.toString=function(){return this.__toString("Seq {","}")},w.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},w.prototype.__iterate=function(t,e){return C(this,t,e,!0)},w.prototype.__iterator=function(t,e){return L(this,t,e,!0)},e(q,w),q.prototype.toKeyedSeq=function(){return this},e(x,w),x.of=function(){return x(arguments)},x.prototype.toIndexedSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq [","]")},x.prototype.__iterate=function(t,e){return C(this,t,e,!1)},x.prototype.__iterator=function(t,e){return L(this,t,e,!1);
},e(I,w),I.of=function(){return I(arguments)},I.prototype.toSetSeq=function(){return this},w.isSeq=T,w.Keyed=q,w.Set=I,w.Indexed=x;var Z="@@__IMMUTABLE_SEQ__@@";w.prototype[Z]=!0,e(j,x),j.prototype.get=function(t,e){return this.has(t)?this._array[n(this,t)]:e},j.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,o=0;n>=o;o++)if(t(r[e?n-o:o],o,this)===!1)return o+1;return o},j.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,o=0;return new i(function(){return o>n?c():u(t,o,r[e?n-o++:o++])})},e(A,q),A.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},A.prototype.has=function(t){return this._object.hasOwnProperty(t)},A.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,o=n.length-1,i=0;o>=i;i++){var u=n[e?o-i:i];if(t(r[u],u,this)===!1)return i+1}return i},A.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,o=n.length-1,f=0;return new i(function(){var i=n[e?o-f:f];return f++>o?c():u(t,i,r[i])})},A.prototype[W]=!0,e(m,x),m.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=s(r),o=0;if(a(n))for(var i;!(i=n.next()).done&&t(i.value,o++,this)!==!1;);return o},m.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=s(r);if(!a(n))return new i(c);var o=0;return new i(function(){var e=n.next();return e.done?e:u(t,o++,e.value)})},e(U,x),U.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,o=0;n.length>o;)if(t(n[o],o++,this)===!1)return o;for(var i;!(i=r.next()).done;){var u=i.value;if(n[o]=u,t(u,o++,this)===!1)break}return o},U.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,o=0;return new i(function(){if(o>=n.length){var e=r.next();if(e.done)return e;n[o]=e.value}return u(t,o,n[o++])})};var $;e(B,p),e(D,B),e(O,B),e(N,B),B.Keyed=D,B.Indexed=O,B.Set=N,
t.Collection=B,t.KeyedCollection=D,t.IndexedCollection=O,t.SetCollection=N});