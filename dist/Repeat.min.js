/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Repeat={})}(this,function(t){"use strict";function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return void 0===t.size&&(t.size=t.__iterate(i)),t.size}function n(t,e){if("number"!=typeof e){var n=+e;if(""+n!==e)return NaN;e=n}return 0>e?r(t)+e:e}function i(){return!0}function o(t,e,r){return(0===t||void 0!==r&&-r>=t)&&(void 0===e||void 0!==r&&e>=r)}function u(t,e){return a(t,e,0)}function f(t,e){return a(t,e,e)}function a(t,e,r){return void 0===t?r:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function c(t){return p(t)?t:m(t)}function s(t){return v(t)?t:I(t)}function h(t){return y(t)?t:j(t)}function _(t){return p(t)&&!l(t)?t:R(t)}function p(t){return!(!t||!t[X])}function v(t){return!(!t||!t[F])}function y(t){return!(!t||!t[G])}function l(t){return v(t)||y(t)}function d(t){return!(!t||!t[H])}function S(t){this.next=t}function E(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function b(){return{value:void 0,done:!0}}function g(t){return!!q(t)}function w(t){return t&&"function"==typeof t.next}function z(t){var e=q(t);return e&&e.call(t)}function q(t){var e=t&&($&&t[$]||t[tt]);return"function"==typeof e?e:void 0}function x(t){return t&&"number"==typeof t.length}function m(t){return null===t||void 0===t?k():p(t)?t.toSeq():B(t)}function I(t){return null===t||void 0===t?k().toKeyedSeq():p(t)?v(t)?t.toSeq():t.fromEntrySeq():K(t)}function j(t){return null===t||void 0===t?k():p(t)?v(t)?t.entrySeq():t.toIndexedSeq():L(t)}function R(t){return(null===t||void 0===t?k():p(t)?v(t)?t.entrySeq():t:L(t)).toSetSeq()}function A(t){this._array=t,this.size=t.length}function M(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function U(t){this._iterable=t,this.size=t.length||t.size}function O(t){this._iterator=t,this._iteratorCache=[]}function T(t){return!(!t||!t[rt])}function k(){return nt||(nt=new A([]));
}function K(t){var e=Array.isArray(t)?new A(t).fromEntrySeq():w(t)?new O(t).fromEntrySeq():g(t)?new U(t).fromEntrySeq():"object"==typeof t?new M(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function L(t){var e=D(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function B(t){var e=D(t)||"object"==typeof t&&new M(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function D(t){return x(t)?new A(t):w(t)?new O(t):g(t)?new U(t):void 0}function N(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;o>=u;u++){var f=i[r?o-u:u];if(e(f[1],n?f[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function C(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new S(function(){var t=i[r?o-u:u];return u++>o?b():E(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function Y(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return"function"==typeof t.equals&&"function"==typeof e.equals&&t.equals(e)?!0:!1}function P(t,e){if(t===e)return!0;if(!p(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||v(t)!==v(e)||y(t)!==y(e)||d(t)!==d(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!l(t);if(d(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&Y(i[1],t)&&(r||Y(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var u=!0,f=e.__iterate(function(e,n){return(r?t.has(e):i?Y(e,t.get(n,V)):Y(t.get(n,V),e))?void 0:(u=!1,!1)});return u&&t.size===f}function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(it)return it;it=this}}var V={};e(s,c),e(h,c),
e(_,c),c.isIterable=p,c.isKeyed=v,c.isIndexed=y,c.isAssociative=l,c.isOrdered=d,c.Keyed=s,c.Indexed=h,c.Set=_;var X="@@__IMMUTABLE_ITERABLE__@@",F="@@__IMMUTABLE_KEYED__@@",G="@@__IMMUTABLE_INDEXED__@@",H="@@__IMMUTABLE_ORDERED__@@",J=0,W=1,Z=2,$="function"==typeof Symbol&&Symbol.iterator,tt="@@iterator",et=$||tt;S.prototype.toString=function(){return"[Iterator]"},S.KEYS=J,S.VALUES=W,S.ENTRIES=Z,S.prototype.inspect=S.prototype.toSource=function(){return""+this},S.prototype[et]=function(){return this},e(m,c),m.of=function(){return m(arguments)},m.prototype.toSeq=function(){return this},m.prototype.toString=function(){return this.__toString("Seq {","}")},m.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},m.prototype.__iterate=function(t,e){return N(this,t,e,!0)},m.prototype.__iterator=function(t,e){return C(this,t,e,!0)},e(I,m),I.prototype.toKeyedSeq=function(){return this},e(j,m),j.of=function(){return j(arguments)},j.prototype.toIndexedSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq [","]")},j.prototype.__iterate=function(t,e){return N(this,t,e,!1)},j.prototype.__iterator=function(t,e){return C(this,t,e,!1)},e(R,m),R.of=function(){return R(arguments)},R.prototype.toSetSeq=function(){return this},m.isSeq=T,m.Keyed=I,m.Set=R,m.Indexed=j;var rt="@@__IMMUTABLE_SEQ__@@";m.prototype[rt]=!0,e(A,j),A.prototype.get=function(t,e){return this.has(t)?this._array[n(this,t)]:e},A.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;n>=i;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},A.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new S(function(){return i>n?b():E(t,i,r[e?n-i++:i++])})},e(M,I),M.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},M.prototype.has=function(t){return this._object.hasOwnProperty(t)},M.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;i>=o;o++){
var u=n[e?i-o:o];if(t(r[u],u,this)===!1)return o+1}return o},M.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new S(function(){var u=n[e?i-o:o];return o++>i?b():E(t,u,r[u])})},M.prototype[H]=!0,e(U,j),U.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=z(r),i=0;if(w(n))for(var o;!(o=n.next()).done&&t(o.value,i++,this)!==!1;);return i},U.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=z(r);if(!w(n))return new S(b);var i=0;return new S(function(){var e=n.next();return e.done?e:E(t,i++,e.value)})},e(O,j),O.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;n.length>i;)if(t(n[i],i++,this)===!1)return i;for(var o;!(o=r.next()).done;){var u=o.value;if(n[i]=u,t(u,i++,this)===!1)break}return i},O.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new S(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return E(t,i,n[i++])})};var nt;e(Q,j),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(t,e){return this.has(t)?this._value:e},Q.prototype.includes=function(t){return Y(this._value,t)},Q.prototype.slice=function(t,e){var r=this.size;return o(t,e,r)?this:new Q(this._value,f(e,r)-u(t,r))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(t){return Y(this._value,t)?0:-1},Q.prototype.lastIndexOf=function(t){return Y(this._value,t)?this.size:-1},Q.prototype.__iterate=function(t){for(var e=0;this.size>e;e++)if(t(this._value,e,this)===!1)return e+1;return e},Q.prototype.__iterator=function(t){var e=this,r=0;return new S(function(){return e.size>r?E(t,r++,e._value):b()})},Q.prototype.equals=function(t){return t instanceof Q?Y(this._value,t._value):P(t)};var it;
t.Repeat=Q});