<!DOCTYPE html><html><head><meta charset="utf-8"><title>Immutable.js</title><link rel="icon" type="image/png" href="./static/favicon.png"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" type="text/css" href="bundle.css"><style>
      .contents { padding-top: 10px; }
      .disclaimer { margin-left: 20px; }
    </style></head><body><div class="pageBody" id="body"><div class="contents"><div><h1 class="typeHeader">fromJS()</h1><div class="synopsis"><p>Deeply converts plain JS objects and arrays to Immutable Maps and Lists.</p>
</div><code class="codeBlock memberSignature"><span class="t callSig"><span class="t fnName">fromJS</span>(<span class="t param">json</span>: <span class="t primitive">any</span>, <span class="t param">reviver</span>?: <span class="t function">(<span class="t param">k</span>: <span class="t primitive">any</span>, <span class="t param">v</span>: <span class="t type"><a href="./Iterable.html"><span class="t typeName">Iterable</span></a>&lt;<span class="t primitive">any</span>, <span class="t primitive">any</span>&gt;</span>) =&gt; <span class="t primitive">any</span></span>): <span class="t primitive">any</span></span>
</code><section><h4 class="infoHeader">Discussion</h4><div class="discussion"><p>If a <code><span class="t param">reviver</span></code> is optionally provided, it will be called with every
collection as a Seq (beginning with the most nested collections
and proceeding to the top-level collection itself), along with the key
refering to each collection and the parent JS object provided as <code><span class="token var" >this</span></code>.
For the top level, object, the key will be <code><span class="token string" >""</span></code>. This <code><span class="t param">reviver</span></code> is expected
to return a new Immutable Iterable, allowing for custom convertions from
deep JS objects.</p>
<p>This example converts JSON to List and OrderedMap:</p>
<code class="codeBlock"><span class="token qualifier" >Immutable</span><span class="token punctuation" >.</span><span class="token function" >fromJS<span class="token punctuation" >(</span></span><span class="token punctuation" >{</span>a<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>b<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token number" >10</span><span class="token punctuation" >,</span> <span class="token number" >20</span><span class="token punctuation" >,</span> <span class="token number" >30</span><span class="token punctuation" >]</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span> c<span class="token punctuation" >:</span> <span class="token number" >40</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token block-keyword" >function</span> <span class="token punctuation" >(</span>key<span class="token punctuation" >,</span> value<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >var</span> isIndexed <span class="token operator" >=</span> <span class="token qualifier" >Immutable</span><span class="token punctuation" >.</span><span class="token qualifier" >Iterable</span><span class="token punctuation" >.</span><span class="token function" >isIndexed<span class="token punctuation" >(</span></span>value<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token keyword" >return</span> isIndexed <span class="token operator" >?</span> value<span class="token punctuation" >.</span><span class="token function" >toList<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >:</span> value<span class="token punctuation" >.</span><span class="token function" >toOrderedMap<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// true, "b", {b: [10, 20, 30]}
</span><span class="token comment" spellcheck="true">// false, "a", {a: {b: [10, 20, 30]}, c: 40}
</span><span class="token comment" spellcheck="true">// false, "", {"": {a: {b: [10, 20, 30]}, c: 40}}</span></code><p>If <code><span class="t param">reviver</span></code> is not provided, the default behavior will convert Arrays into
Lists and Objects into Maps.</p>
<p><code><span class="t param">reviver</span></code> acts similarly to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Example.3A_Using_the_reviver_parameter">same parameter in <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a></code></a>.</p>
<p><code><span class="token qualifier" >Immutable</span><span class="token punctuation" >.</span>fromJS</code> is conservative in it&#39;s conversion. It will only convert
arrays which pass <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Array.isArray</a></code> to Lists, and only raw objects (no custom
prototype) to Map.</p>
<code class="codeBlock"> <span class="token string" >"Using the reviver parameter"</span></code></div></section></div><section class="disclaimer">This documentation is generated from <a href="https://github.com/facebook/immutable-js/blob/master/type-definitions/Immutable.d.ts">Immutable.d.ts</a>. Pull requests and <a href="https://github.com/facebook/immutable-js/issues">Issues</a> welcome.</section></div></div></body></html>